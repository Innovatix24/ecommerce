<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <link rel="stylesheet" href="@Assets["bootstrap/bootstrap.min.css"]" />
    <link rel="stylesheet" href="@Assets["app.css"]" />
    <link rel="stylesheet" href="@Assets["site/site.css"]" />
    <link rel="stylesheet" href="@Assets["lib/css/myToaster.css"]" />
    <link rel="stylesheet" href="@Assets["BongoEcom.styles.css"]" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.bubble.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.20/summernote-bs4.min.css" rel="stylesheet">

    <ImportMap />
    <link rel="icon" type="image/png" href="favicon.png" />
    <HeadOutlet />
</head>

<body>
    <Routes />

    <div id="loader-dialog" class="loader-overlay" style="display: none;">
        <div style="
    min-height: 150px;
    min-width: 150px;
    background: white;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
">
            <div class="loader-spinner"></div>
            <div class="loader-text">Loading...</div>
        </div>
    </div>

    <script src="/jsHelper.js"></script>
    <script src="/js/bootstrap.modal.js"></script>
    
    <script>
        window.loader = {
            show: function (message) {
                const dialog = document.getElementById("loader-dialog");
                dialog.style.display = "flex";
                dialog.querySelector(".loader-text").textContent = message || "Loading...";
            },
            hide: function () {
                document.getElementById("loader-dialog").style.display = "none";
            }
        };
    </script>


    <script>
        function openPdfInNewTab(base64Pdf) {
            // Create a blob from the base64 data
            const byteCharacters = atob(base64Pdf);
            const byteNumbers = new Array(byteCharacters.length);
            for (let i = 0; i < byteCharacters.length; i++) {
                byteNumbers[i] = byteCharacters.charCodeAt(i);
            }
            const byteArray = new Uint8Array(byteNumbers);
            const blob = new Blob([byteArray], {type: 'application/pdf'});

            // Create object URL and open in new tab
            const url = URL.createObjectURL(blob);
            window.open(url, '_blank');

            // Clean up after some time (optional)
            setTimeout(() => URL.revokeObjectURL(url), 10000);
        }
    </script>
    @* <script src="/lib/bootstrap/dist/js/bootstrap.bundle.js"></script> *@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/imageUploader.js"></script>
    <script src="_framework/blazor.web.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>
    <script src="site/sweet-alert.js"></script>
    <script src="_content/Blazored.TextEditor/quill-blot-formatter.min.js"></script>
    <script src="_content/Blazored.TextEditor/Blazored-BlazorQuill.js"></script>

    <script src="js/site.js"></script>


    <script>
        const toggler = document.querySelector('.navbar-toggler');
        const menu = document.getElementById('navMenu');

        toggler.addEventListener('click', () => {
          menu.classList.toggle('show');
          const expanded = toggler.getAttribute('aria-expanded') === 'true';
          toggler.setAttribute('aria-expanded', (!expanded).toString());
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

    <!-- Summernote JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.20/summernote-bs4.min.js"></script>
    <script src="js/summernote-interop.js"></script>

</body>
</html>
